@page "/profile"
@using SimplyMTD.Models;
@attribute [Authorize]
<style>
    form .row {
        margin-bottom: 16px;
    }
</style>

<PageTitle>Profile</PageTitle>
<RadzenHeading Size="H1" Text="Profile" />
<RadzenTemplateForm Data="@(user)" TItem="SimplyMTD.Models.ApplicationUser" Visible="@(user != null)" Submit="@FormSubmit">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <RadzenFieldset Text="General Information">
                    <div class="row">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Name" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox style="width: 100%;" Name="name" @bind-Value="@(Security.User.Name)" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Business Name" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox style="width: 100%;" Name="businessName" @bind-Value="@(Security.User.BusinessName)"/>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="VAT Registration Number" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox style="width: 100%;" Name="vrt" @bind-Value="@(Security.User.Vrn)" />
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Address" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox style="width: 100%;" Name="address" @bind-Value="@(Security.User.Address)" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 align-items-center d-flex">
                            <RadzenLabel Text="Mobile" />
                        </div>
                        <div class="col-md-8">
                            <RadzenTextBox style="width: 100%;" Name="mobile" @bind-Value="@(Security.User.PhoneNumber)" />
                        </div>
                    </div>
                </RadzenFieldset>
            </div>
        </div>
        <div class="row justify-content-center">
			<div class="col-md-12 d-flex align-items-end justify-content-center" style="margin-top: 16px;">
				<RadzenButton ButtonStyle="ButtonStyle.Light" Icon="cancel" style="display: inline-block; margin-left: 10px;" Text="Cancel" Click="@Cancel" />
                <RadzenButton ButtonType="ButtonType.Submit" Icon="save" Text="Save" />
            </div>
		</div>
    </div>
</RadzenTemplateForm>